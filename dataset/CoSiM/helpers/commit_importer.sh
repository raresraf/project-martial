#!/bin/bash

# Define the repository URL
REPO_URL="https://github.com/torvalds/linux"

# Define the base path for your folders
BASE_FOLDER_PATH="/Users/raf/code/project-martial/dataset/CoSiM/raw"


COMMIT_SHAS=(
  "b7dbc2e813e00d61e66fc0267599441493774b93"
  "12ed593ee88170145fff25c7b3325b227731c2a1"
  "d6084bb815c453de27af8071a23163a711586a6c"
  "9bfdba946f30d5cbf2257932a53682c0ad1aeb37"
  "d9104cec3e8fe4b458b74709853231385779001f"
  "7dff275c663178e9a12a0c0038e4b3be2f3edcba"
  "4b290aae788e06561754b28c6842e4080957d3f7"
  "72b8944f147e151e845d976e7f48beff38967499"
  "93942645c44f1ed4e834d162ae5ad9fb7ef07213"
  "0db240bc077fd16cc16bcecfd7f4645bc474aa7e"
  "4eee1520ea845a6d6d82e85498d9412419560871"
  "0d5ec7919f3747193f051036b2301734a4b5e1d6"
  "f38b7512903a50eaeb300e9c8d9448187dd3959c"
  "86aa721820952b793a12fc6e5a01734186c0c238"
  "4b65b859f55b036649a4525f09fa7c5bbbab384e"
  "13150742b09e720fdf021de14cd2b98b37415a89"
  "1edaac340f4da813b258a5e3a6c79804612161a4"
  "b5d760d53ac2e36825fbbb8d1f54ad9ce6138f7b"
  "0965549d6f5f23e9250cd9c642f4ea5fd682eddb"
  "b174084b3fe15ad1acc69530e673c1535d2e4f85"
  "f70d24c230bcaa1e95f66252133068a98c895200"
  "8297b790c65d17544d8298cb81a46f67348c6267"
  "00bf8d0c6c9be0c481fc45a3f7d87c7f8812f229"
  "76a9701325d39d8602695b19c49a9d0828c897ca"
  "28f09823de9292c6f91171f0627bd0b360b78a75"
  "e82aea50fe0600da176b2e50a6213f6057b719f9"
  "56eb7c13b97c6f9e2fed9e9899b01d1a6a595f28"
  "fd470f4ed80ce0807943b8d6802ca41044c73521"
  "59b33fab4ca4d7dacc03367082777627e05d0323"
  "982fd1a74de63c388c060e4fa6f7fbd088d6d02e"
  "301eee1c52d4b8f4d4d995feb932dae742e92bda"
  "a71475582ada92ba021852bf3c2b40ab3718549b"
  "0fab5ee0d477b3bfe0ff72a78d151a49f72558fa"
  "6908c5f4f066a0412c3d9a6f543a09fa7d87824b"
  "d41d75fe1b751ee6b347bf1cb1cfe9accc4fcb12"
  "771d7754ab28597c0370a588887f50db229d1c0d"
  "31d7d67ba1274f42494256d52e86da80ed09f3cb"
  "54e6fe9dd3b0e7c481c2228782c9494d653546da"
  "6121f69c36337076fb0ffaa23acee3cf8cc5c931"
  "f26e6af75782fad6efdc883f33e1c40f1a6d37e7"
  "4c82768e413402c329043ed2a30a36bdfc82127b"
  "736a0516a16268995f4898eded49bfef077af709"
  "c80aa2aaaa5e69d5219c6af8ef7e754114bd08d2"
  "85b9dd6e90b92f5cb7c47991421ceb4925ba2a87"
  "a9320f3e96adf0398187816b39cfa867340fc40c"
  "cf51016ba8c343329f1495194fd1354d4c6e5cf1"
  "33360f2508e07b07bb926ea75f11744dcc1cde07"
  "f24987ef6959a7efaf79bffd265522c3df18d431"
  "fa8c0b1c7931b76171571a8e25578844caa1c10d"
  "4fc7885c3a98ec4450103aef874fb1d35920c7af"
  "2d442a0c781403702de27ccfbc4bb233721585f5"
  "531e61312104d991459af73c838396db26aa3550"
  "9fce66583f06c212e95e4b76dd61d8432ffa56b6"
  "aa5840167780a315f8a050b77f41acb852465e2d"
  "827158a67c86ba26be220710e5f8bcbf709a6103"
  "6271c8b8273009de2b004ace8208972aa6d93069"
  "e9eec6f33971fbfcdd32fd1c7dd515ff4d2954c0"
  "c37495fe3531647db4ae5787a80699ae1438d7cf"
  "1831840c2bc502c98c21df2ea0fa419b2ed0a6ec"
  "5631da56c9a87ea41d69d1bbbc1cee327eb9354b"
  "441413d2a99d1d23bea2df2497493024b00ace57"
  "9b2301bf8d65ede6038353086a24399386e2d815"
  "d2002ccb47dd3bf6102d06c8e5062ccfdd31ce28"
  "0dec7201788b9152f06321d0dab46eed93834cda"
  "91a229bb7ba86b2592c3f18c54b7b2c5e6fe0f95"
  "f54b69a57a77c301a1013a22257357d9294a1fdc"
  "853a7a63f8e955f7409f76534d6b7e2a1ea9cbde"
  "b71cb3461765bcf42f619138f4c90c360369a246"
  "99dbb2a1bd661418be33b1ff1462c09b7d2221cf"
  "f46c06a302603dcec488a6d07fec92c262edd861"
  "dd9c17322a6cc56d57b5d2b0b84393ab76a55c80"
  "407c114c983f6eb87161853f0fdbe4a08e394b92"
  "75fe259ff7f67d5072f9b5b282be75e159e5e6c7"
  "329b996d9210c734b2a93bcb4d69dc49a48881f6"
  "b9adb86b9045e6e912035e5991d370ac769be0b8"
  "8cfcf9b0e92f917fd3eee19a46924ad3a2f31259"
  "678bae2eaa812662929a83b3de399645e9de93ad"
  "bca53a176f3d46fdab67f9e2fb1a185e0233d98d"
  "df50848bcd9f17e4e60e6d5823d0e8fe8982bbab"
  "ea83bf05873fa6301267324803ad592365e6c0cb"
  "92ab1e41569416c639643cd75eea2379190a65f2"
  "e403cdf0704b7b1fedaf4ed5f05cc814dffbd6d5"
  "ea39dd2638ff6920c342313db98dbc152e815ecd"
  "7f8fdd4dbffc05982b96caf586f77a014b2a9353"
  "f50d5e0c1f80d004510bf77cb0e1759103585c00"
  "c5647e0e85c91a7e0532b416e3bf429062d67450"
  "a8934352ba01081c51d2df428e9d540aae0e88b5"
  "cde304655f25d94a996c45b0f9956e7dcc2bc4c0"
  "17ce3e5949bc37557305ad46316f41c7875d6366"
  "25fae0b93d1d7ddb25958bcb90c3c0e5e0e202bd"
  "07e0e8ea6400673fe6eb40d3db2a64f1f2bce4ca"
  "05a623030b3cc2250755e4d4d6b1440a03aed674"
  "9afa2e0d42187591685caf70cbbd040391b9cbb3"
  "0cadf8534f2a727bc3a01e8c583b085d25963ee0"
  "88d6ba89d86404073dc3cb711203c02b0754b166"
  "f2d7c3c380bf0c38c395d50de3a7c1a6275983cb"
  "9aa64182952db7d931201ab4fcdf767c11fb4ab0"
  "25ebbce1f188aa2d3e83fcfcf24da8610362564b"
  "f1b4f23a52c272f6c1e205e8ec243f563323c5aa"
  "d83edab562a496a42720902a1d2effccd05c37c5"
)

# UIDs - ensure this list has at least twice the number of entries as COMMIT_SHAS
# (one for old_folder_name and one for new_folder_name per iteration)
UIDS=(
"03145662-1135-4b05-b49d-8dd4af09fd4a"
"31204581-54b5-4634-abb2-57abb80a38db"
"603c821c-ef63-4fb0-8663-22232032719b"
"d90016d2-6fa3-40b3-a157-b4ecec3d5bff"
"afa70b33-d25e-4eed-80a1-9e9bf9f87a3d"
"7fce48e6-7c3f-4a41-8f2e-7734c3154e24"
"8cd72355-d346-496e-b85d-1ddd21648cd3"
"f5f71406-2551-41c6-91c9-eff7ac34db87"
"b44f0093-c961-4fcf-90d0-454c957cd4c6"
"80c0ea45-346d-45dd-bdbc-ef79ce996573"
"a59f7599-247c-4cdf-8338-427287d4b6ca"
"351df9c9-4413-4093-a91c-1d37470c7806"
"e93fde22-e8a6-49d9-ada3-5e36ec6410ea"
"408cbcb5-cb6a-48cf-9a89-dbccb212f698"
"0e8daaec-244b-4d78-bbb8-c3b18c71996f"
"10f5779e-eae4-4924-beb0-10b01ab24d6f"
"ed6cde36-50da-4930-bd34-f6a2cd59cc0f"
"4c847aa1-9ed3-468b-88d2-074f080990bf"
"4a306b4e-036b-49a6-9009-0d2bd36959fa"
"4cb202f4-7bbc-4795-9c6f-458fabcc039d"
"517ae81c-79df-4c7a-a5d1-1ad6aaf4325c"
"8e9c7638-1c70-4121-b340-af9553a7a89c"
"50e7affe-fd82-4bd5-9ece-7b113b4c37ba"
"f8cb20c5-d198-40e0-8179-2a3310b059ec"
"08c37278-f892-4991-a96b-f41459768d3c"
"502ce05e-4150-4dbf-bb8b-077b114de2c1"
"dd01c3dc-98aa-4b04-b1d8-00fd76c1ff2c"
"eff578a1-005f-4139-b849-cebe513c211c"
"b9377395-0640-42a5-8f73-82ff9c50719f"
"93d4d7b3-fbc8-434e-a718-9e899730fac3"
"05314305-b286-4c5b-a80e-5c46defa6a97"
"e79c5026-37cc-4e46-a06a-0ceaf0417a97"
"0316ae32-591d-4c49-a8df-b0b1d4ffbc96"
"5928356e-3f4a-4b3f-b4ea-ca62d48732d3"
"ac2da340-3da5-4dd9-bbc9-c300adcd1252"
"b52741c6-0ce5-4120-9357-5373c10d843f"
"3753d969-7c21-498b-80a3-1a9cdf0ca708"
"ddbf7c19-9d7e-4e51-b277-cad02a482af3"
"58e36848-472a-45e7-b893-152d83d6470a"
"028c7060-1751-487c-9d39-619bf9810355"
"d8994557-2edc-47f2-93f5-8cf0a8d713e5"
"0a7617ce-89df-4998-b6e0-4ede22201f0c"
"6b7db55f-5991-4c9d-b0f4-03a557c4543c"
"a3b378a6-5acf-4341-8605-fe7c0a51571e"
"4249dc02-6d7e-4591-95bb-83f59c78606f"
"9594eb1d-af1b-47c4-9975-01a3e6f4623d"
"ec1c81ea-caf5-4c91-8d16-3de5418e14be"
"c2f4a7cb-b327-4c0b-bd63-d5345c05d9ce"
"c93b4671-6302-436b-a86d-f9a5d90a326a"
"ea10c964-43c1-4382-91b4-f6b61d188af1"
"b52cf845-ff7d-4b6d-a1b5-3d368d4c0ff3"
"68b3596a-771b-4891-9871-a15a65aa8063"
"57e15b3f-ad22-463a-a1d2-ea7e3e97ea56"
"9a646ff3-95e3-497a-8b71-added3252a61"
"096f9f35-7886-49b3-877f-1aa6170ae097"
"32dbfa8f-171a-46df-876e-dd09dad1742f"
"6b8cc179-086a-4087-af07-3a5e4d920de2"
"fe50dfaa-b81f-4e6d-a785-04dd12d644d0"
"45309ff6-7476-4f4a-8d95-97a411cb30ef"
"5246ecc8-371e-4307-9e4f-dd841e8c363a"
"1dd18ab1-cce9-4a7a-b8b5-0ac60eaa5f00"
"2e7a6bd0-0a60-44ce-bbe6-39adaf2dad21"
"b4c8e3d0-c000-455c-b2c5-427456b5af65"
"e27afd8e-bbf7-4bf8-abf7-1c9a03e03ea2"
"4af8581c-11c1-4bdc-9025-4cd5a586d189"
"71ed2f53-c2b8-4596-b97f-4bbd3e3d32ab"
"7dbd3f34-4604-446b-831d-51050a8762f2"
"ef4fa330-79a7-4701-b4e3-8278cf0f2c72"
"d7a8f501-d2b8-4d1b-b3fc-7192289579c6"
"befe3403-f39b-4f49-91e9-cc2163a5bac9"
"4bb87088-7b56-47c6-88ae-d972a286c73b"
"0cc48edf-902a-4e3a-8187-70d8a6e67fc2"
"2ab6f85f-9e4d-47ab-a66a-066528f2953b"
"9aa35ab2-34a4-4425-a443-3385b39cd505"
"64edd9b3-8e31-48dd-ae27-934ce5bd3660"
"8dcd7cff-8218-40d7-9d87-3572756652ab"
"c903373c-b8df-40ef-b57d-edf4b36e2522"
"1ba6a6d9-0cdd-4c5f-abfd-9bfe59e5a433"
"dfa573f4-2f46-4be6-b240-d4b4fe8aa951"
"cdbae290-6d89-43c4-9f6a-5a10e3c55137"
"e0ee5c13-6156-415c-800d-6f7cb9360ce3"
"c330cd70-f755-497c-bb47-32eb303840a6"
"81ac2dce-3fce-4869-855e-9ab62c3aa875"
"73cefc90-8824-4d18-a37c-17a2df58b053"
"433aed16-268a-4015-bc2c-57cf137c9b58"
"b4196942-7b6e-4255-a98c-bb2bc32e1f06"
"37c6e791-0fec-46f6-b00d-398c2a40166e"
"2e3eb014-3768-4e4c-bddc-86d802d92224"
"3cf53700-e0e3-4748-832a-e6ad326cb1c4"
"0e4bb687-fd47-41b6-b162-3b6482a5c26d"
"a166f6bf-95f9-4577-9f9f-145edad2c6de"
"1e941b54-d2b5-4626-b29c-e2cfd13decd7"
"96f30c62-0e7d-4384-af43-21cb084fa1c5"
"a51d08fa-0425-452c-a6e7-884252748722"
"f68e21da-4977-4cd0-a15c-2ab47647c4d4"
"6fa7b3aa-bdf7-4fa2-8620-794271477d2c"
"eacd35b2-e8ac-4840-8c77-bae682d8cf74"
"91d033a2-d16c-4f27-9057-01933fc556ca"
"e73225ac-90b2-4311-8861-f789c42a19aa"
"eda0caf2-d978-4c9f-bf19-3b203e3a619c"
"d31b8568-deba-43c4-ba38-afdb6009d375"
"d3d5ba7a-8914-4247-8ddd-74cb661d0d2e"
"c56f51ca-ac73-4ed7-90fa-b5a81830dea4"
"7aec5c6c-e918-47ad-ba23-0126fc7278ab"
"0a003a37-ffb1-46a2-8b2b-0763737931ee"
"455ed60b-47c8-4fab-a72f-346aa65f52c4"
"d02c4873-7dad-44a3-930d-5af447039770"
"82cd3cf1-bdd1-4f4d-813e-7434bfba629a"
"f52da4c7-0717-4435-acea-470bda9351a9"
"dab1429d-877e-4e17-bb48-e45ef93ddd65"
"a8e594ff-c23f-46fe-8838-9ef9912f7b72"
"c2a699ee-d44a-44a6-a98b-b64c3f178a48"
"cdf5ef94-fcf4-4a2b-80d6-c4050bb0435a"
"39821884-91bb-4dd2-b7b9-b27b053870f3"
"fbdc1204-f385-46e4-bdf4-965c43a2532d"
"4494e0f8-5084-4d78-bba8-45bfae604ec0"
"1bc43643-2675-4692-8dd2-edd847c3aeb2"
"9fa06bf1-f8f5-4821-879c-07563b604cbf"
"ecf254e9-acc1-4744-89e7-01f9e9f6dae7"
"6f5a1d0c-5f03-441c-9769-53517edc34c6"
"dc623651-6fd7-462d-8d02-844e247dfb30"
"055f9148-6ace-4580-8c58-e47a8df4edee"
"9a82da21-6adc-4464-bb66-fa61efe34a54"
"33fb6044-a6b6-45f6-b5a8-22dc454bcb9b"
"04c7f451-1247-47fa-93e0-3d3a7c4c5bf7"
"8d3a18fe-40ee-4c99-8bec-b7e8736aa857"
"f9470b27-ab01-49eb-bd52-ed18ec08a239"
"c897c78e-4070-47d3-96e4-64e96518bb07"
"53a58aab-fdaa-4912-abcf-927e139174ae"
"839e3f25-0323-46f9-9ac7-38254d0c400b"
"a1fa757e-499a-4893-af6c-367c10869b3b"
"72a8413f-ccda-49b4-b601-314617442c54"
"8a2800f0-0c4f-4086-9a19-9912d7988cb4"
"b543dbf6-b6a9-43f9-9ae4-670910db07df"
"7fa4dc45-f517-47fc-ab29-260cd819f615"
"a186fcf8-df6e-410b-b70e-e6e0ff33bd89"
"502c476a-ecca-4c9b-ac9c-5045ede71355"
"4888d734-5c7f-427c-882f-7d031a73a85d"
"8db17991-7660-47c1-8465-cbd314ca3b3d"
"b7665dee-dc10-4596-b12f-68aaaf0f2f58"
"a918b9b4-6d89-4a16-8444-4a897c7c7ad5"
"8ce424d2-fec2-41e8-8ab0-f0dc3283f657"
"cc911f60-0e8f-4a0b-9ccb-2ca193af3003"
"a456fa70-aae1-41e2-a91b-da69616ee76e"
"c6cb99b2-534e-4830-afbb-e578efa6ff54"
"11c756f9-eea1-4941-98c4-9d462f58a392"
"8d12f0d6-82fc-40c5-bebd-d29699e8e150"
"f629544f-cce8-448c-ab59-c2af67ba4360"
"eeb811e2-e69a-4c1d-866f-84cd02bf8dec"
"08241b25-c2c5-4151-bdeb-d821434cd60c"
"9572d98d-b674-48ea-afef-f8b082928f38"
"ec78e5cb-9ee2-4acf-9195-13620fe9f811"
"bb28a994-deef-40d4-b995-31a749a438d8"
"76bb2e74-5a59-4696-98ca-526369509aac"
"cbe9d8d8-f5b5-46cd-80c8-9307f7d886d7"
"3f57f4bb-7c2b-4797-ab43-b75f5f704df1"
"8776f6b1-0fad-449f-b813-4a6839793578"
"b87f6d25-6078-4187-8fe5-d333568190c4"
"8e311257-4464-4fdf-b5fa-10c44a8abcaa"
"fcdc1d4d-12b9-4549-bbfa-1c2e04183fe7"
"3296b6c1-649b-4fd7-b545-d55aeb3a9390"
"a82b8d5d-c7c6-43dc-a899-fe2f3436ac1e"
"e10293e5-8b0b-4355-8f63-9abc9244e5b2"
"e12755e7-f167-4939-89ee-14d384f394aa"
"5ad55c43-4b24-4fd4-a2de-c1373106ec7a"
"4d975214-4ca4-497a-8f99-15b65447ba69"
"4f5969a2-c17d-4f41-9d67-73b5f414945b"
"680646f5-e98d-4cfa-95d2-4d4d7160eeab"
"e153a99b-9bbe-4d4e-80ba-3f23c43ed455"
"d224d8df-4a71-438b-84a7-33b619743140"
"e40041c6-ad45-4780-a1a4-dae480979604"
"bbc885a0-ed73-4025-bb36-c8d711357b03"
"0180d90e-447b-41d1-ac94-aaedd69935de"
"75425ca6-49a0-4806-9fd8-80326dd372a9"
"1b79d01f-8d1b-4ab8-912c-d82dfb583d8c"
"9a1bb2f6-3420-45a2-8451-82a2b2210aa3"
"c2bb7eaf-327a-408d-a7e2-33d9ad756e58"
"4aef6b7a-f865-482c-8e05-c8e475a230bc"
"01c73441-fa52-489c-ae3f-858737e4dd59"
"926e1c2c-af61-405f-9b6b-9cb569a5849a"
"27ea2a61-fed6-40a6-b5e3-c7f6ddd6b8d7"
"fc62120e-b677-406d-af0d-af20de16f0a8"
"3277f275-e564-463f-b0fb-ef1c822077f9"
"c9541957-c004-4ccc-aa54-bfe0dc37afd6"
"b8481f8b-98fd-4ae5-ac66-db92c353c0b2"
"494c8974-b02e-4988-a478-fb0670e9f3bd"
"b2b19ca3-80e9-43dd-a422-75c03c86df9b"
"1535c863-ccb4-4f0b-9467-1247f73edd7c"
"967d8b40-9f8b-4d6c-bcf2-e81569437f6c"
"11763aee-8014-4f73-90e8-95943b2fe0c8"
"cf2f92cf-2d4b-44e9-a4f8-aa66dfa165a2"
"8024e2d2-bc52-4a64-a28b-368c669ba010"
"b7207c77-7d7e-4f7d-a8e7-24b93c63b577"
"6405f881-f2ed-4adc-8555-bd822cc1720d"
"939a54b0-d702-42f9-8e1a-5fb7911a7f2d"
"e91b5a0d-183e-4680-b685-6f4e1bc0dd60"
"25a65e34-59dd-45fa-a291-115057d5e1f8"
"0794b09e-4622-4f40-8b66-242adb5beb8c"
"0ed3fc02-3c10-4bc3-94a9-80e9f618c80c"
"a8d09fe8-2f26-49ae-b2eb-4879b1dee4ee"
)

# Check if there are enough UIDs for the operations
if [ ${#UIDS[@]} -lt $(( ${#COMMIT_SHAS[@]} * 2 )) ]; then
  echo "Error: Not enough UIDs provided for all commit SHAs."
  echo "You need at least $(( ${#COMMIT_SHAS[@]} * 2 )) UIDs, but only ${#UIDS[@]} were provided."
  exit 1
fi

# Loop through each commit SHA
for i in "${!COMMIT_SHAS[@]}"; do
  COMMIT_SHA="${COMMIT_SHAS[$i]}"
  
  # Calculate the indices for UIDs
  OLD_UID_INDEX=$(( i * 2 ))
  NEW_UID_INDEX=$(( i * 2 + 1 ))

  # Get the UIDs for the current iteration
  OLD_FOLDER_UID="${UIDS[$OLD_UID_INDEX]}"
  NEW_FOLDER_UID="${UIDS[$NEW_UID_INDEX]}"

  # Construct the full folder paths
  OLD_FOLDER_NAME="${BASE_FOLDER_PATH}/${OLD_FOLDER_UID}"
  NEW_FOLDER_NAME="${BASE_FOLDER_PATH}/${NEW_FOLDER_UID}"

  echo "Running with:"
  echo "  Commit SHA: ${COMMIT_SHA}"
  echo "  Old Folder: ${OLD_FOLDER_NAME}"
  echo "  New Folder: ${NEW_FOLDER_NAME}"
  echo "---"

  # Execute the python script
  python3 github_importer.py \
    --repo_url="${REPO_URL}" \
    --commit_sha="${COMMIT_SHA}" \
    --old_folder_name="${OLD_FOLDER_NAME}" \
    --new_folder_name="${NEW_FOLDER_NAME}"

  sleep 1
done