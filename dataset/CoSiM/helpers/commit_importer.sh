#!/bin/bash

# Define the repository URL
REPO_URL="https://github.com/microsoft/vscode"

# Define the base path for your folders
BASE_FOLDER_PATH="/Users/raf/code/project-martial/dataset/CoSiM/raw"


COMMIT_SHAS=(
"abfd82895d9e3176fced50b59fa3abe369fb0f4f"
"4219c8429bb92d296c21d021531f3e2d6d1e8509"
"d9c7d49bf5e78b9cffaf6825e455c57898bc098f"
"1d2ff521de7889ccfcb1aa0be49204233b49b92e"
"0d4b67d271d136f1e448494740aa141d8f46c175"
"8dc208780958e8d04ea0d20a04f6ec89870d1f19"
"280efe8f9d4efc22467d464c0af16a79c00f040a"
"97621f6a9235dd13cd0e5219f3925152e6728641"
"7c2953cee2d1951ba3461243a1b61f93b23a38d5"
"0f100e799fdff2b4df25d34d80efe5d3f1b24283"
"5aea62988bb46d70e69ac4766bbde8ed928d24cd"
"8d2df63fd604660338c9068bb35dcca4a3f05d04"
"dfb589a4db9d019360fee2abb0e96649ebdbc968"
"572ad79ddf520684c00ff367695d8ae69a5146a2"
"b3cc9660395f7416963a9d1c4afa79a0f2083dfc"
"0b12ad728f39fd47f3f0f7835dd7cec7f332a1c3"
"091c6f01aed58caef022f74f6483fba3f8d22314"
"79111eaac3830501e343c3ab1e7585f2519f85c5"
"4e949c4c0b649aff5c33a99e7b7bcdb461da1416"
"8174fe9d989faba2562fe804736c0e33fba375c7"
"87f1fb45ef66db44fa5105c2a3aec413d2908345"
"574942b61531bfdb2e9efe7c244f3f0b8f0e0533"
"0a9c51061b7eea4ec46430f2e65db66f251afe78"
"593154afacf10bfb3ee06e7c01027366453050e2"
"8edc1bb3b0b002d159bf9d4387d283dfd3db2139"
"50d821403f1048db0e7f399b355a0f45f9a447b5"
"61b68257e4d593855330754d20ffe1772f79ddc9"
"a041cb2fd2855da6576536a317593a3c6eae3c68"
"e8270f0a84f5f7be1dd69f708221bfe4c8e6af90"
"957b80f8295200a8bf3a241b4e1ca82b33706c91"
"de5993840383046406e9a283f8356a42d37e9943"
"d5fde4d53114439e6227bb4ceb50ef64208c4fe3"
"a2b94a11a68a40d56782a82f7bc002bc37e28212"
"ae9e8db0233a0caaac04a4cbbbf1669f7e1b2233"
"35dadacf1ea464680e46568cac2ce893520d37b0"
"43db11e26cf2364a3aa9651ec84d0e4de8e2667e"
"46e4cd27da79bccb9756a0f7273382cfb1b8005b"
"815b6e18b63efdded3ad400239c6f663041953fb"
"54980b3c5b5b4e6893a8ce6ff79c3fba62813f0a"
"fa27508878b76446b3084b2e8c44cfb361f7e989"
"473662b717f50ccb6f4fc8cf79a904c483b3efa8"
"070a215b043613f279fa5e3126fc7c19d36c4277"
"dd51284a8bbdae1edc6e08ef86747f13b02c525c"
"601d54404318842ef43f0fe3e5a68684c3e6afd6"
"ca66f8718b60393cfae8712d45efa64059e74c6a"
"0675631bfe313f8064bf367a6c0fb5d44d8615b3"
"b751a08cfe5882ba319d8aaffaba4ecfe3f84929"
"1b99b4b158224f12e51b11457f783a9ad400c293"
"33331edf85c2c8b83150e72072b5e0b246612b9d"
"1720b340aac1b53926d561a80de7a0c96fa6e8b4"
"4eda0f18e6aea880e1694d9d4b49ac208dd3523c"
"05397a81be8d62dc4a5f9a3132f0dba4889d8336"
"7f82242adc111bd1b4bfae1386f92b66f937c085"
"3d8a39656f15ce573bb49ec4097b0f6c820256d0"
"4ce7e38c99a14011e80bcb936e16b3f80ec714f9"
"db78b7121f64b1932181ba73d61e3df420636fa0"
"81db2cf413f9c4825978503300d4f53706dafdf3"
"eb15fece6e77af1695a93935e00c09531ba1b601"
"e01d4a50e99a72e912aa919a598ffeb9650d1d50"
"1f42816e8493a5dfa8c409aead4eb8396a8f322b"
"8461915b3d74234a0ec91d42c9d9efed332062e1"
"558e6bbcdf700f76533e1e5048b726fe5bb5c9b8"
"1a4101187d5d854fe55cd91713e71709f3b0f9ba"
"d8d0bc8adaeb4f7a270dbebe2ca1f2e24ee2c7da"
"e6993926dc0d505b8c8ab3108a7faff2505603fd"
"09381fbee84b3d40ce5cd32921a8b711ab2d6aed"
"08c10bc084ae7f1b77a78512ff0711cacb84a2ac"
"aa4e84994c931e7bc02a4a1e94f7d2a2ac9157e4"
"1ad5526c05de39ad4a04da26a3f3d866640cc0f1"
"5147d15dd845a765b4ec0f68733eb8595cc67403"
"c3aec7a0b8fdfbb3aa1c464d68b81936d8244521"
"4a6e62dddc520655e4cb13ee4396566402b0e19a"
"325a675e817a882f0921ba8855cb4034d04bad23"
"8647d4a829466b533bb96f2a7ad5006766055586"
"4bb75827bb50e9a4139089ad3eeb39ab46412e18"
"c1c40effa79281f32152284be0baf721ff9a6e67"
"6d98536c371052e812b9ac47a7c501e2dd4eac95"
"092313c80dc3b5b5968971c6f1cfed78a689ac4b"
"3c694345c6e49d951ceb02824ba501c7bedb3760"
"be2f68bf79d67bdc13e30dea44352b5a94468e7b"
"ada873f3fc85d69bc0487acf0196f175032ee086"
"2513a08177e44187ac9ef550fc0925fa8af69fa7"
"aa638a54aa66e1da16f56b452695c0b560cb216e"
"8d5ca45a93bf28d13b31f70ee242e7908ff16af8"
"e6e3b28e92343783709573eaa88cad36b370e1e5"
"66379d431ba7569a8988094a0038cf2f7578be80"
"58cbd9d55bdde1a2194b64f82f5deea25c4c42e2"
"cedf37c9b5d2b51ff56ec693325cf698ce4b9cb2"
"0a094791b964dfe5da5500e61143a71ed678dae1"
"58e38499031b580e4d85e79484122f336d7145b2"
"a15412220fa69998e9e59e60ab2b72893860a9cb"
"e46277b53906a8ee2727e4205b80ddf9cc42f1b4"
"75eed3f406583aa487f9c0e760ade24889ab4eb8"
"ce41849757f342faaea598c11ed49aae27747f5a"
"61ad3eb3774f7c9001ca46d044ebb49dd999cc59"
"5cc442a4186e7cf97d3809ddc23031b8839f2fce"
"35c77b7c1eef3d665c865f89f72f6b3e5cd4b4db"
"5a8ee06494084681148bafe1c6c9a5039cb04c3f"
"a5f61b84ec39110b2fdab4ac74eb1cca4bbbbc27"
"552692305d6e784a62e8cf2bc9b843e5aebdcec9"
)

# UIDs - ensure this list has at least twice the number of entries as COMMIT_SHAS
# (one for old_folder_name and one for new_folder_name per iteration)
UIDS=(
"b7f31fa3-bf25-4acc-a6d4-0306eaa337e8"
"74d57892-8cf4-4ee3-a415-c96ac4b4e8e5"
"40952c80-90e1-458f-a8d6-67bf9330df9e"
"62f17e2b-1670-4972-8127-810cacced755"
"8170b9e6-7d9e-4615-b33d-61572b921c47"
"f003cd01-89f9-4004-bb55-6a3f87c39ad5"
"8486d758-166b-431c-8314-6f09aa91164f"
"e9aa9683-ec0d-4911-9797-482e56928d00"
"e5ad431b-e8d2-4f60-a24a-9dd1d483a7be"
"8a907c2b-26c2-46e0-9491-e29fde11ac32"
"46166244-6d5e-4d4c-a13c-83de7dee2347"
"c4178ba3-6565-4ce7-afce-8a4ffca8fa10"
"e4166ccb-3075-4d79-b8d1-5b91fa743e81"
"9f891c82-933b-4a0f-9bb3-77df4a8b4e3b"
"c0338e07-3cd3-4fe8-b847-427789c71feb"
"cb9ef623-4ac9-47d2-818c-9e2eca1acd93"
"545aa654-3939-459b-bc71-00b981093bf4"
"d9752dc0-1e53-4a3d-8337-2a8884283b70"
"a04d158a-a66e-49ce-9342-440b0468f5b1"
"719ddaa5-8c55-4784-8ce1-2242dea21aa9"
"edab8528-4cbd-4f92-8832-89de5226f04c"
"7aef93c1-a2f9-48eb-a27f-69ad728eed79"
"d07b09be-4fc3-46a8-ae86-7a5a32a5fbe5"
"3dead1a4-9938-4f68-99cc-15075c523dd5"
"035e78e1-6304-45f6-8100-d96616086713"
"fff413dd-3e3a-4daf-b32f-28c5383da02a"
"c563a978-f096-4beb-b9bd-7748056c1e29"
"8bb42af5-f26a-456e-8148-7f8f92aec2b4"
"c85061e6-b075-472f-9631-4bf12e5ab731"
"fb8576c6-87d4-4136-8bca-867595595f58"
"78198e31-5033-410a-b54c-2378e1ac7e6f"
"80626f28-ca19-490a-bcb7-5a498a2bb669"
"3bcab92d-0799-4bd9-9462-1c3c032fa79e"
"d5ab4125-4f1c-4047-903a-ea90c3042e40"
"307c54d8-9cf4-4f8a-a099-5cbc47458ca5"
"4fc4d988-5a25-4105-82f5-3a6d65e20d59"
"633b192e-8a2f-4215-b379-298bf6093323"
"08119c98-e02c-4183-ae16-a01aa6f4f4be"
"cabdf7eb-e7c7-4c2e-b7c6-7fd4ec5d3e04"
"55932fb8-7a44-4031-bd71-c6011456d00a"
"0d0576ec-f03f-4471-b3d4-ffaa88c857bf"
"c9ae3bfa-36bd-434e-accc-79e11a2c97b5"
"d4303eac-3d09-4f71-a3a6-724eefcca828"
"5baeb61d-4c69-48e9-be30-fc4098ff2bef"
"ac4ecda7-153c-49e7-8a8f-151bfbb06c9c"
"4417dc99-bafd-429b-a8af-abddca15f455"
"31030aae-d803-44a4-8e16-f0374b91e746"
"711714ad-9c1a-42cd-bd1f-176951e01cf3"
"7651e07d-af8b-4bc4-988b-145be54e268a"
"983fb18c-811f-4950-b71e-61c0135665b7"
"d0eb1748-4144-435b-9fb0-55d47d76c3c4"
"74ac28d7-5763-428c-ab5e-99e5d30f5434"
"8a6c7ebf-2788-4d2e-9164-da5e86fb504e"
"d6909d24-a369-4a95-b44e-89f9d1c09c2a"
"78b16abf-87da-42c9-98d6-9387bc3ccc3f"
"8967cda0-8c75-40bc-b57d-226fd996becb"
"05a3aa55-bb74-4228-ab24-fe6d33c049da"
"d1391c39-ee5e-436a-949a-6dbd34df13e0"
"1b96fe0a-d0cd-4961-8599-ac5dab31ffe3"
"ec9fb46f-a870-40a6-a8e8-7172dcfe3d88"
"b98baff7-76b5-402a-a31e-1ca733eb24c8"
"cea35623-2d7a-455c-b137-eed88e258d03"
"6fc1dd9d-3bfa-42cc-8137-c6cac753b605"
"d471bcd7-7d39-4801-822b-412d24e4ed88"
"3d30d73f-fffd-4532-9cab-7879db48fa03"
"584a99c7-3036-4c1c-9b7b-5f82073ec4c5"
"0ba1f6ac-0f4b-49a3-a390-aedca24c1fa1"
"0c1926d7-f2cc-41e3-8ae8-1bef4b4d57cb"
"0af48720-d5de-4577-9c2a-b4d1d1a38aef"
"e342f4d9-d80f-41e0-84be-6d1ed0705594"
"becd680f-b7fe-440d-9d32-2f83aed763c0"
"9ba911c1-bebc-455b-8646-4ea74b2ab373"
"b9c394d7-35dd-4cf4-a94f-97bd9e547344"
"0afe30e4-d33b-454e-b31f-bd61ed2ea5a1"
"4da0635e-cb42-4190-be4e-13d8aa243db4"
"d8317ae0-65e8-4a94-a7e5-6e6fc1ccb331"
"2364cf55-41f9-42b4-b559-a2f40443ab58"
"833b40ab-06b2-4789-83bb-b2acb3f5b1bf"
"d9d0fc7a-07d1-43b4-be76-61e45db1ecf1"
"841eb602-5df6-4faf-afa8-f38cb6cbe9d6"
"b27b3218-b16d-4e1e-841a-471a02ed34ea"
"533c7eca-49c0-492d-be15-4851a9c1727b"
"7c1633dc-6fd2-469c-ab3e-703bd24d0da2"
"49def171-2953-4480-9431-0a4d8fc8b7e0"
"b537a6ac-447d-4b7b-8e25-7c28e6921c2b"
"abc9bb47-19ad-45dd-a931-3bb3e442c4e4"
"51306093-89d9-4a52-959f-4466ec42f74b"
"7624090f-548a-417f-a095-48c11b6d0c51"
"598b94f3-8d58-428c-9074-f9535436ecd4"
"45d7f3eb-3d1c-4486-ab1f-177bb3bea12d"
"88ae2d51-d3e0-46f3-9a0c-83ccb6b58ed8"
"7b95e85b-fd0c-4e92-8680-dba7300ed292"
"6bf86094-9ea8-45f9-ac4a-f60a76d6c4c7"
"3bfa2c1f-eedf-44f0-bb19-2adc89c41367"
"a92530b5-2a1f-4813-9659-fe59c2cd3dc8"
"5314321b-95b4-4fd1-a44a-c3d28f02ac8e"
"6a5a5d21-9c30-4e2f-bc10-4eaaaa236b46"
"4c052bcb-5d31-4b28-9fe3-8c8408b837a7"
"579a318e-476f-4fee-af34-7099c7184765"
"2ee29172-9551-4a04-8f1e-f62350134527"
"aea06e12-94ba-42a2-b13a-53020acc3173"
"56892bff-bc67-4767-b794-22154d704245"
"badc71e0-8314-42e0-8602-f10d4afc9174"
"ab7b0df8-75f9-4390-9e1a-8085fc2e2374"
"e48e3f25-a718-4f43-8742-a0faacdfeaa7"
"aa2881d7-52be-4ba6-8a64-2a29c98c2019"
"19c79ea0-574e-4329-901a-291f63f5e4cf"
"04990213-a7c9-4dd4-ad00-f313925df652"
"4c053741-dc10-4610-afa6-9999fe3c8b25"
"029d2a36-a7e2-4e73-8bea-9be72e2b395f"
"d0e23524-683b-443f-afcb-16008e5d3b3d"
"8663e96e-56b7-4030-bb9f-f01279718894"
"177f894d-fe4c-4c97-abe0-13b544f67a01"
"8bd1c570-47f9-4019-a965-ece5a1a34f49"
"df4a9638-795f-4b13-82f2-1aed615ff798"
"e999b930-d9e1-4986-b535-dad90357db1d"
"3b55b1df-0316-4086-8d70-d485383b3982"
"c96238c0-989e-4d36-aeca-f801e1b8a0b0"
"766ad752-3183-4902-bc6a-f671e03cac0a"
"e01da659-425b-433c-a1b9-5ecf4eca1ae8"
"c89edc80-d1e0-4cbf-9270-46582a4031d7"
"2ccaf7a3-e8a0-4bf0-8681-8e6acc81e860"
"a6bde3c3-a095-4de5-a9af-e2eba19bef99"
"ed67156c-b0f1-44d2-bfe6-24fd24c81067"
"cc6f4513-6f89-47d1-98cf-f90ee5288021"
"dd97534a-7c77-4d44-a06e-7f9ba67843f8"
"f1cc3f4c-7854-4f4d-8823-d94e4f0c3748"
"e8bb7273-9b00-4059-b086-d3422fa6dbf3"
"05f64a57-14f0-492a-8121-cb17bc626660"
"4af44dff-1568-4cf6-adac-11de66699e8f"
"fc79a220-935a-4c6e-a8c3-f8eb3b53e343"
"e00f055f-74e4-44ef-b876-b1d1921de16c"
"33393758-1a16-47ed-bc47-167eba2d318b"
"2d25cb53-9603-4b52-ae55-3ece2e98695c"
"d213b9f6-5e5e-4e22-ad91-bf7612855344"
"a8db18cf-117d-42f6-9121-816e03159235"
"842e05bf-7eeb-4d70-8e7c-e629d1dd69a9"
"06a7c2ba-b09f-4fbc-891c-8db0dc60954f"
"a3a8c597-c13d-4b68-af62-0fd727631eb6"
"80a97f28-47df-4733-b08c-094987f5dc8a"
"0c4fa580-5d1c-4719-b29f-c4577915495b"
"bfe7cd15-9c59-465d-8a6c-54542cb8a753"
"557b3a35-9367-4be9-a122-68622b87f094"
"9cd98f6e-462e-47d5-90e8-bae1818acab0"
"7b9c626d-de6b-4b5e-a79e-ff0ca539db20"
"2c65d4ad-7ef5-4a95-a8a9-5d23d7a9e9c8"
"e4577dcb-e939-4730-b0e4-9d6b539f5e5c"
"26ee11a5-4ac9-4572-8c93-413d33d70172"
"28624046-fda8-4e8e-8bd3-f14d2acbd8eb"
"e872e8c0-8564-4c28-ba7a-687d913a39ae"
"536c6a7f-786b-422c-bca6-66e6c927d2cf"
"15e808fd-a0e8-4062-975a-ccce6cf6e990"
"80109551-53a7-443e-a1a6-fc0bcba31e10"
"4bda7917-192f-41c6-8a23-aeec6bde3bc1"
"6c9bd824-8706-4574-86f1-afc84591027b"
"75dbd424-8fe8-48f2-b0f5-845922c74898"
"6a06ee21-f8f0-4f7b-be07-14fe2e1ab7dd"
"3ab879b8-b49e-4fdc-83ca-e431041a9dae"
"52b7d7f0-f20f-4d7f-9fd1-63501bba3404"
"76fb7e8c-5d64-44d4-b465-04e930b36472"
"ce523fa4-b124-4dee-9750-56c49f6504ce"
"a3ad5eab-491e-462e-b905-48e5eeabf032"
"a50639b5-84de-463b-9045-b2dde699f256"
"bf4c1c45-2168-4197-8c6b-844496e6ccad"
"2b6b7bba-e1e2-41c4-951e-9a608c5ab899"
"28bcd386-f260-4c25-ae2d-8df81ad4aba6"
"259ef237-aef0-44b0-836d-cecea0ceca80"
"585d508c-46a5-4cd2-8450-1ff3bcd172b6"
"722607b4-9b13-4b6c-8714-4a9e38bf3f8c"
"9df39af4-6184-4f28-aa6f-304d7c5dbe3f"
"f2cdf2e6-f151-4f39-ad3d-e6fe5c4ea504"
"5601945a-3f0d-4cea-a571-b4f176a5861a"
"b53ace00-af0a-4f2a-aeb5-4055101106de"
"f77fa597-1fea-4ae7-b850-4ee0bb6337d4"
"84c41717-9a8b-4da9-8894-f1ae124b925c"
"ed4d6490-9501-4ee7-8bb3-33138d4edc1b"
"3720be90-8156-44c7-86c0-ed4a31234381"
"ad80b811-66e1-490c-b0f4-c93adc21378a"
"dc6d435c-1858-4529-8d51-c91ede2e29c6"
"99537f8c-4dfd-49dc-ac34-4981f43f959a"
"e996f34f-326e-440c-8030-1b961b883cc3"
"d6f3d61d-6d94-43e2-b691-ec98365299d3"
"78318663-bb8b-445d-939c-db7e97e6a5d8"
"8d11014a-361f-4a04-97f1-411dd0b05641"
"f28480c0-9d19-4371-b47c-05d7f61b1d68"
"0ad9125f-28eb-46de-8c7e-415125d9211d"
"ea6ce8af-9ef2-498d-a6b5-c45c34052429"
"714097c5-725c-4282-9844-894718112d93"
"c3c4c253-8c6a-48a1-850f-65a1016842e9"
"b114d799-0279-464a-bc08-d3ce3095c74d"
"6f7c6283-52d4-4932-9e4a-50aa6c85f429"
"c1341538-bbb1-45fa-9af1-b10bcfd54e78"
"9dcffc99-a399-4ed9-b96b-8b5291240cc1"
"1ff21508-e2da-4586-8237-80971e93b49c"
"32a66eb4-8c3e-4a30-86f7-36aa65384c07"
"798ea445-7013-4bbf-b1ec-77a6ba9b5b5f"
"6dfc8e65-7c34-4a3c-8b7b-cdf3091df636"
"4d9acf79-e7f7-497a-8333-2bffec33612f"
"af323944-d16a-40b3-8a10-eb50b919b94e"
"fc1446aa-c051-4799-9f87-c3c244e42bdf"
)

# Check if there are enough UIDs for the operations
if [ ${#UIDS[@]} -lt $(( ${#COMMIT_SHAS[@]} * 2 )) ]; then
  echo "Error: Not enough UIDs provided for all commit SHAs."
  echo "You need at least $(( ${#COMMIT_SHAS[@]} * 2 )) UIDs, but only ${#UIDS[@]} were provided."
  exit 1
fi

# Loop through each commit SHA
for i in "${!COMMIT_SHAS[@]}"; do
  COMMIT_SHA="${COMMIT_SHAS[$i]}"
  
  # Calculate the indices for UIDs
  OLD_UID_INDEX=$(( i * 2 ))
  NEW_UID_INDEX=$(( i * 2 + 1 ))

  # Get the UIDs for the current iteration
  OLD_FOLDER_UID="${UIDS[$OLD_UID_INDEX]}"
  NEW_FOLDER_UID="${UIDS[$NEW_UID_INDEX]}"

  # Construct the full folder paths
  OLD_FOLDER_NAME="${BASE_FOLDER_PATH}/${OLD_FOLDER_UID}"
  NEW_FOLDER_NAME="${BASE_FOLDER_PATH}/${NEW_FOLDER_UID}"

  echo "Running with:"
  echo "  Commit SHA: ${COMMIT_SHA}"
  echo "  Old Folder: ${OLD_FOLDER_NAME}"
  echo "  New Folder: ${NEW_FOLDER_NAME}"
  echo "---"

  # Execute the python script
  python3 github_importer.py \
    --repo_url="${REPO_URL}" \
    --commit_sha="${COMMIT_SHA}" \
    --old_folder_name="${OLD_FOLDER_NAME}" \
    --new_folder_name="${NEW_FOLDER_NAME}"

  sleep 1
done