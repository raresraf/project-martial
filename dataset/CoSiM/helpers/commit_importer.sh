#!/bin/bash

# Define the repository URL
REPO_URL="https://github.com/servo/servo"

# Define the base path for your folders
BASE_FOLDER_PATH="/Users/raf/code/project-martial/dataset/CoSiM/raw"


COMMIT_SHAS=(
"19b813ccf16bdddb455f35952a318f97fd2cb7a4"
"5ee002b2a672cca20614c5b3e83781f80b6bf61c"
"860e9442801189dc2175feb16c9f4ea84d1794b2"
"a4c8979ee7f97ddaf5c0f700de0d35ba07aa0dc7"
"54f964bb7d36f10423c16e057b2b7cab397a0ef4"
"0b812cef3fdedfcf597a308dbfaa698d542d0211"
"c4b63ef635bc28d22d87950951b506e94b6cadf6"
"db4cfe8f7d4ba0e552c48f288297f95f2ad3b2d0"
"18251977f894e6054cfcc898db82b2284178a91a"
"6157c6f77ab663ad753a3423ff677722fb81b15f"
"7ede39ecda242ad4db339d76e7c7cdf72d32f2d4"
"a0371d808e8767cfde04e56d73216552ff1d07c2"
"b53e9d40fccfa2f668407a406d3bad33a0996353"
"dad31935a54bbb140ff2bf21c4568c3637c89a3f"
"40245f65d1d35071bd6d2ebd2fb33d89faaa1d66"
"31a7ddea28f7a16c3814a99f8a6e24af24e4976b"
"c6e60a512351d4da89e90f176faa0f645d44806a"
"036bb0650757210f03ca66a4861d8f6ed8829fc7"
"52a83a6c972e75d4f6ecffc2496d967476b29219"
"5a858899e340b30062fb956edc33f0e248ff3d9d"
"5a1e6345f23e2acd4f2566f647f3beaa5aea8c47"
"f6ea7417d817660d38ccccdd2cc30a9e223f3531"
"1f373b38c6fcd0f384b5be0af915fdfb28afdd66"
"5bab3ab2b214692ac622655944945f4673a6d894"
"fd35d1697279f583f223f72979b766a34aef8147"
"d1fca88f6c1708f6072c9fa9d9764163b93730c4"
"942a3ffd50e60dd93e804bad8683bb1a43df2876"
"39ace1628d302254e0517f40b4d338f091708c89"
"87b915f7ea553989b09b06297881b31eb0e6147e"
"26cf9f8515aa61801b1d230bd619e0e4d04460df"
"1ab65a5c57d712d1b84daf87c4365df4f42721ca"
"17d55911df2f2db8f6d4c8d60d44831156946b08"
"842736546978c629b4f254926dfbdf756ab88b37"
"84d8e29fc0efb144e70663ecbc619aaffb452037"
"296555eeffa8ef7c86946f1492adb43d775baccf"
"3fd390b6941412b543739efaf460a514fb6a660b"
"5d625e26f1a039e4f0cabce40dbd96bbef9be79a"
"651d757b6352463fba0f9ec42dc99b2b4376513c"
"d083c2bcd15e7ec8781f956a737695bbc84b9367"
"006c7db988f6790c3a0af79cea3ad11f9f555f16"
"89952f6060849b5b1245013054fdc754ddf2df89"
"b3519088db8552292c58c89bd59cfb0760bdfeb9"
"1d827be3b284301d4466f4dfa787e29db79cf34e"
"d54c8b975eefb0cb4db17257a0fe08461a8b7b32"
"676feadee98d464e95b39c7a1fda35977873a9c5"
"7a29ab7d027821e7135335f320ff7a39122ac035"
"38cbe5cadb99f898d71fa1c0c361e08095f71ce1"
"887338ab5a056ad9945aab1dd80aeeee8813144a"
"505bb0406ecfae6da81206672685ce0fa36ba883"
"9933c66e95e530250966571b442378fb41970c6f"
"b05a3c39b8c9791c54ad6c6469fa41b516d633de"
"f88ac7e11e9ce77e85bbb6323dac2c34a2f2dab8"
"790d49256e455bb1025fd0f6e5e73be495e25fd4"
"fc84296f4b874e213e4be8d58adc1396a0034e04"
"44b91d98c4034bbb8b91c6c92fa6e496305dd859"
"2a2860342fee316e9e52bfc6f0e319bd53fbb974"
"34e5f9ee8930d58810917aa369dc8eaa76f89f1d"
"236bf18b05bd45487ff811ca212dbe40f7596ecd"
"4abe2b98a54fed5de4a98f32cc4ba910e1ddf7c1"
"1c0184c6d868c67178d7dd5d0067cda9be31f424"
"7298a0741bb63b63b55463e41aca4b6dee11bb4e"
"75d819ab9c7bf3008e2e8fc043583c0c30bb1783"
"227ec9f93939b0939112cdde628dcc6d42e23450"
"4a7ab9407e78e4a8910c921eebaa44a1f4a921cf"
"4b3c6f24e15b06af24a815cdc4f2ef71bbff2fa4"
"80a1cfc9cff01fef3b00ba4407cdbd0caefa2947"
"6a5533317d48f0d3a156d39125abd0fdab85c716"
"6110fa62d7a73561e5076b6ad7689881ee829f5d"
"ae3ce0a74c917e84cd092cd24b8af441a1ac6fe8"
"c216f73e03a25a0edd7a539018e98a474f75bbcb"
"625b6ad706cc1dcf2930414211d1bbda42ef04b2"
"68d612f35d56ba9493b0c60b29d5b6a01557416b"
"eb75b8c904875c46231d3e9be8172b6a6c7cda92"
"f4ac52990d3593c528089fc6e21fb8b7261bd114"
"ce204a5f0db38d083d54bee0a5a46d74310740e2"
"5a78d0c93c387f135c4dcbe651006eb0a80e2b69"
"849e79e4ed282fa15ce794ab6db2a58de3f602f1"
"c9c24f6a7a02cd9f46af6b3249b95c6bffce6aab"
"456e086a6c2911227dc9fb6da9a01c59e6b66498"
"9c71e5bff712be801b5cc2247494a363cd0ebb9a"
"79cf637e88bb22ebb20db4b7fc9f85d605f9de28"
"44f4d28974220d7fd198681b51e66c61620d49a6"
"c2a7f85e0dbf3b7b9b98e3657434f4fdd4d9dde1"
"95cad819249d9002d0ffb7b46b217e8f87b3de3a"
"131eaf157c5b9e835318968afaa33401aa5d9a2a"
"76dd5367f924ffa3f8fa9b481d68000616e0e94c"
"eae26a220852cf6e438cee3956793f20405f3717"
"5b38a892ff6f8759b13413aecc78d0a2c1b7304a"
"921b41a8a2c35a16c46358a27f70c389ff5e10a4"
"b7f191a05ae4e70352543d83f6c97ea5a6f7588b"
"dd4a4225256e49a040eac5fe19970add721880ee"
"160238d696b28f87a167fb919a2c33a808785240"
"6fb3c156262ee7237d1f2bf94562f1a229ea867a"
"8efe8873bcee53c3b2caf10cdc29de26535de5fd"
"bafc61c265f39061ef3f0d1f65cbb53d3478c681"
"b5fa17a65e8c2e95e13d49e8e63904db70742bfe"
"ba1572f628353c76bd50e58735666859e000bf7c"
"001a9aee6e8a1a627deddafec75260a798ddb2a5"
"d1cd34ca91340bb5ba798a213e44270ddc253b58"
"ab3fa126c3543c8d0ffa96b1253aad71fbc5158c"
)

# UIDs - ensure this list has at least twice the number of entries as COMMIT_SHAS
# (one for old_folder_name and one for new_folder_name per iteration)
UIDS=(
"ad2f5984-2cba-46ab-9239-433ee3b9f600"
"3d7828a3-b79d-456a-a385-23f09223a281"
"8fd074c6-0306-4111-8e33-addf306d2022"
"89ab5140-d18a-40ab-a066-9b65d36fba09"
"c8e8782f-2420-4dfd-b4a6-def3df99613a"
"3fecf39d-7458-4e73-9618-d87d1e897aea"
"50d56fb3-c1e3-428e-8e86-5314770246b7"
"815172ae-dd9a-4ea5-8720-2b81433244f5"
"3cdee29d-e0c5-4096-828f-883781c66b07"
"ae6ff68c-44b5-411e-94dc-2d48223e6472"
"b278c3c8-0569-474b-b66b-5a3f7c7d15b9"
"9735c178-dba8-4e23-b7d5-d938b9191ac1"
"4a397b90-949d-4731-9cf5-a83e797685c4"
"0bb04d9a-5535-4dd5-9f23-046d9c03edfe"
"f9d6ce78-2e28-435a-a3de-6b8c91f7ed5b"
"23f6f64c-8070-4494-9c23-19b3810dae23"
"ebb7520f-3a9b-413f-b243-44817f0ea548"
"493249a3-437b-42b1-89e1-d1abcc2cbd6b"
"f6772a26-cf6c-441f-8fe2-f19e20ea763c"
"c8a304e6-4b06-470b-84a8-a3af5708edb8"
"82b07fe8-8eb1-426a-960e-8a0c11ce8db8"
"aa1f2b79-1e2b-44fa-9067-92494b23736c"
"2d420d79-cd22-4a23-ba86-d8b6c0f07470"
"c952c2ba-4ec0-4d38-8df8-01cdfbfb3a53"
"2ae9062d-13ef-459b-ad71-26992484d9e6"
"8232b738-be15-44f1-9b0b-79b74c8aeddf"
"a1975b6a-6bc1-44da-a8af-8cbe63bb8b07"
"1737e506-7a8f-4bb6-b513-db4e1e84c6f7"
"52a7f4ea-9531-45f9-97e4-873d7ccf7ff0"
"99b96e29-b3de-4c09-9740-fc3ffb885e80"
"edbaebdc-634b-4c50-a31f-4a079725c946"
"b6437e35-9808-4e18-b0a3-b346b3ecd8d5"
"8e984681-7fbe-4cce-b46d-2d82d106378a"
"a15bd23a-5752-4b72-994d-ef993fcae13e"
"7ddd1cbf-ea73-4b94-8857-9bb42e3bb81b"
"64c417a8-7329-43b5-bc41-66adc4a8d4b3"
"ac7b157e-2763-4c13-a186-9e2846886346"
"0d108f72-d8f7-42e6-8dad-226ed869e6cb"
"c7665d2f-2621-49c7-8258-472d3ffe7786"
"d4c75fe4-68df-4ab2-bb54-a3118640b194"
"1b740e88-b673-45e7-a30e-3e1b8ee2d4ff"
"847571d3-a0e0-40f1-8a13-63aabaec0caf"
"127ee0ec-f41c-4698-b2c9-da8e34319580"
"76c500a1-b4a4-47fb-afd6-57113cbd4d6c"
"be1db447-9667-43b3-96a7-d98f7d19f2e2"
"9640b874-084f-41b5-af33-ef374006bc4c"
"67879f47-9f33-46fd-8f19-674b4dad01fb"
"d0d05d2b-4858-40f2-8aab-4a719f5e2084"
"0ea0245b-b701-4128-8661-8d743e2532cf"
"a67a118b-785f-431a-b11a-d3c7734d04d0"
"406b2452-a3d7-4ec7-bcb5-054e2ee42040"
"038f3089-4be5-4e2f-b237-7ecdb4b56d65"
"c7018238-56d0-4564-9f6b-957acd25608d"
"4846e8e8-6bed-420f-8c67-406104263ad4"
"29605d50-eae7-487b-827b-d8354a12e296"
"fdccb33a-3bff-40ce-986d-854b3317500c"
"fdf35d7b-8492-4e0c-ade6-15a376ffd0b8"
"da10ed02-5d96-4b4b-af98-87ddd0c0827e"
"7f59f5d4-6649-43d8-a9f9-0582b2c07d3d"
"5a75eb6a-7684-4764-8ff1-3be3c8dfac32"
"b9a82296-518b-478f-be42-3d72cbe32ca9"
"30ff773e-c1b1-417f-a5b0-59074f7ba423"
"c40fe860-8a78-4a00-802b-f88aa7f31066"
"884ce53c-a801-447f-89d8-fa01e2b3abdb"
"aa3d9a01-c1d5-4b86-97ff-271f2a7c0465"
"c843a10b-6fb7-47d5-b44d-52a3c0c9ab79"
"fa4ec3ff-799c-4bbb-9918-82a7086e7487"
"e651e493-6c1a-4ea4-ac0c-c00f015a3de9"
"ddd401d3-6e9a-4bf9-9b95-7a89087065c7"
"71d0a507-7a3c-4ef9-bca2-931f3aa95d96"
"64aaf076-3789-48ce-a439-9714d5dc3924"
"a74caca0-09e6-4b9a-8ca6-267c00160ea6"
"93bea011-170d-4f8b-ad76-6461d9affe5e"
"e6c7a5ec-9cb2-4372-a70c-d881b868e76e"
"db356894-8481-4946-b786-87767fd68fd6"
"d72cf81b-8ad8-4120-8595-f2c99a08c856"
"7a3a4b96-26c3-4955-9205-5797767c789b"
"c1d71a76-708b-4b9e-acd9-cb2f8c03f9e0"
"7a2c5b3e-26c0-4745-ac18-7f404dedf47a"
"73f16cfd-d576-4a88-8faa-1233f5c92a83"
"6af9e178-d6e2-43e1-9c53-26b3512a29e4"
"9b891edc-6201-462d-896b-f824311be45b"
"aec13b89-8663-494b-9f2b-1c31d69647a5"
"d98437b0-4413-4b00-ba35-0d49a3e7cb1f"
"182e1871-e76e-44a8-9e41-801bd8ad5b82"
"8b092e53-583e-41c0-8cc4-62f708a59e01"
"6d91a183-69c5-4c58-97c2-73494a8aa10b"
"061e852a-93ca-4ff3-9893-38ac14f28190"
"e6dc8e05-8b6f-488a-ba79-7d271361e713"
"647a6674-3097-4b33-99e4-2e7d29920a02"
"cbd867a4-1cfb-46b4-be1e-ecd1d4b314c0"
"9a3caa47-a3dd-4b40-885b-a0003298e6b7"
"10b6d3e8-0756-4a6d-89f6-7f31a65c65ac"
"a3dd4c1a-5bc7-4db9-9ba2-82139d4cb64b"
"77366aac-919e-4868-8d6a-deb7340c907f"
"a074ce67-3435-4130-9493-9afef07b7f70"
"d19769fd-c4be-4b43-8e0c-9b513cf61ee6"
"6ca724d7-0ee5-4396-bbe8-389acfec87dc"
"3f14df56-cd40-4ec5-95c7-6f344c7661b8"
"ef5a405e-f79c-4fea-aaeb-2e63107c3d6a"
"ffdccff6-8497-45b5-84c4-35f3fdbd20f7"
"2f03f0a6-87e7-4601-bb5a-89eee586a4f0"
"c0c07684-4592-4b40-9f91-5ed3e3c50588"
"35bc3833-710b-4ce5-8224-609937968289"
"1d55552a-140c-4bd5-ba10-f291b3e28f9a"
"6376a0c3-c9bb-4155-8fd5-03faac38de00"
"abfb50ef-5ae3-4279-beef-63ffb53c0e97"
"8e8653e6-0fb2-471b-8100-78d4c710dbf0"
"7ef00992-9ea5-4f61-a18b-d1b49f40f343"
"8124a936-33f7-480e-84cb-c483ae465b96"
"799e2bf5-4c89-408f-b155-02175124ab6b"
"2d06c7e6-29fa-4167-8bf9-833b2d373145"
"7fdd2090-1e6d-4845-9730-b817f5d6ba40"
"1ab68902-1184-4fad-8e80-aa1a976e68dc"
"57d250fb-c8c9-4876-9982-2a8557cae6b4"
"5054df28-b4a7-4c6f-a6d8-28ae506c89df"
"441735a1-2e4c-4e9e-9234-9e1200da066d"
"e03392fb-fa33-4046-a7d8-39dabce7b6d5"
"659a44c0-9f65-4c1b-9b4a-630388ead48b"
"bea769f7-a15c-491c-85f6-2d5ea7e74905"
"b39f2974-c1a7-48ea-914d-fc9fd261dd14"
"dc5d3c98-0524-44f4-9b67-e8ecb149dc1c"
"dbee928d-729a-4ef4-bec1-2f21c636a0cd"
"9b8b7848-1e80-44f9-8a63-7ed3922d873e"
"4ae12e0b-66fd-4e7e-838e-b4e5f2c2aae5"
"3d32e634-3da0-4ae1-b8d4-8aebbc0d836b"
"7c00251f-b105-40ea-98d4-f036b71d252b"
"8680da0d-7c4c-4f9b-9644-d6b4479ed6bd"
"c7c3c550-4cf3-41e5-9e8e-929ef555c705"
"d866974b-6108-4ee7-8422-e43f7b29b3ca"
"c849e080-3229-47d5-b51a-227064273c30"
"09a60ae3-866c-4557-89a7-57580281cea2"
"01c22168-bbba-4938-b38c-9a90e4092f4f"
"d8b1e19e-b030-4493-9154-7e3a4b77c18e"
"a3f84aeb-a028-4aa9-8419-92ed5f422ff9"
"0661a37e-2abb-44fa-a4df-a24609e78572"
"032105b7-6795-457d-87bb-b29df3f8aea7"
"13f56b72-8095-4fcd-bf09-2d8b91037e09"
"9d759639-1bc7-45b9-bae7-397d5afcf56e"
"9253df31-3d7e-43e0-92be-186ee0a1f7a9"
"747f1a7a-c9e3-4cd6-b859-60c77a05cf59"
"87ac8105-8f79-467e-be52-be862f9082f2"
"7b06e4c3-ebcd-4d36-9dcd-7c588469e176"
"15e3513e-4054-4400-bc63-2605a682b6e4"
"99abcef1-15d2-4541-b54c-b972d7ddb5d1"
"ba9de3cf-a178-49ab-b38a-f2373960a673"
"c1dc9858-fc4a-4b7e-ac14-59889875482f"
"3260d92f-4c32-41eb-b9c2-8656f0ef74a8"
"d8f04793-69ab-491c-a00d-d025bc057d8b"
"fb524792-00e3-47d7-8653-c46f522640db"
"24ae2bb5-b0bc-4d26-a0ae-3465812bf9e4"
"9c5424dd-3bc1-45b9-8adf-dd673662a124"
"fb65f3d7-7b13-4969-b5c2-24e9e32cab74"
"7eefa97f-e9ce-49cb-803b-97c1665dcff0"
"3b8d770d-9958-4330-acfc-f03b94dd5099"
"4e031d08-f73a-4c0e-879b-639190645071"
"931e7e4d-1c21-4ad2-a74c-b0f977f3177d"
"22a7bad4-fd03-4dfb-ac33-0ae05df72a94"
"20b8a110-a360-4508-af84-77d8f0092398"
"cc776d10-d412-411f-89e5-fc07e11dbd90"
"56581b3c-3485-4ce0-ba8f-af2b11cac664"
"ecefc79e-479c-466d-9cab-2afa16deed8d"
"37b9c7ba-6612-4a65-a10b-a3d62445906b"
"040b2242-e00a-4d43-82e0-d87c9c67c9c8"
"9492b632-c4a2-4170-ba08-6b30725af326"
"e6222a1f-22b6-4bd5-b73c-89759b30ec74"
"565476fa-d726-4795-97a0-0c66702226f4"
"f3e098bf-9c4a-47b6-bcc6-36ea2691f82e"
"4e34ae68-98ae-427e-b444-dc7fb4fb3b51"
"6304af81-827a-4c43-b804-75699a378ffa"
"221e5d6d-fbf4-4b5f-947d-3b3a0a7bb998"
"1f8e180f-e148-4365-9cf7-c594330c60be"
"4a31699d-b9f5-4aab-bd69-4350b1956591"
"be368634-0c48-4833-8d3f-2ac7cde08450"
"41d32303-3dce-446d-9c68-c8148f3eb6bd"
"79d56983-01ad-4d94-8815-b4f93b15926f"
"3a6e4243-9889-4c55-b8bd-1d5259dfa1aa"
"c417b40a-3bce-454e-b53d-016c4125cf0e"
"01a82672-acba-48d9-bfb5-db145cd65a93"
"da522ce2-9b22-4b92-bf12-5fc3e7a66175"
"15e21de0-b885-44c4-a0b8-ccca272d4a00"
"e545e0f9-944e-4a26-9866-81d866acbab0"
"f1d3717a-5b20-412c-b70f-ab9226e206ff"
"8f7c4cf4-9dc7-4b9c-975a-09043a6e20b1"
"dc7b394c-acc3-462c-a9ba-f46501676d2e"
"cb26da1a-fa64-414c-84b6-034d8beb003e"
"b51a0ffd-72be-428d-81d2-1c501786027f"
"53313268-efc7-4150-aeb5-06e9820805a8"
"709d50aa-b41b-4d9a-bf60-c8046c733c49"
"98cbaf4b-fdd4-4e95-828e-2ad494293923"
"11eb11fb-4356-4bb9-b694-b9f656bddc7b"
"d4e4d068-f5f7-48f1-892c-1ab0c7e36e2c"
"ce70fd4a-9675-4e71-8353-36a0dc6d1c59"
"fbf3d327-9b7e-425b-bdee-2d90023b0569"
"bd0eff0d-8699-4b27-9b98-951eb5f38935"
"4213fc4b-7698-48e1-a5e0-66b5397abe1d"
"2d4c51e5-0dd0-4b09-a543-35193d975ce7"
"cb612c4c-e3cd-4a75-a937-770f70763ed2"
"0ea27390-9005-4bd0-b0e1-bd77045da887"
"ac062326-09da-47dd-a5ba-326916801c02"
)

# Check if there are enough UIDs for the operations
if [ ${#UIDS[@]} -lt $(( ${#COMMIT_SHAS[@]} * 2 )) ]; then
  echo "Error: Not enough UIDs provided for all commit SHAs."
  echo "You need at least $(( ${#COMMIT_SHAS[@]} * 2 )) UIDs, but only ${#UIDS[@]} were provided."
  exit 1
fi

# Loop through each commit SHA
for i in "${!COMMIT_SHAS[@]}"; do
  COMMIT_SHA="${COMMIT_SHAS[$i]}"
  
  # Calculate the indices for UIDs
  OLD_UID_INDEX=$(( i * 2 ))
  NEW_UID_INDEX=$(( i * 2 + 1 ))

  # Get the UIDs for the current iteration
  OLD_FOLDER_UID="${UIDS[$OLD_UID_INDEX]}"
  NEW_FOLDER_UID="${UIDS[$NEW_UID_INDEX]}"

  # Construct the full folder paths
  OLD_FOLDER_NAME="${BASE_FOLDER_PATH}/${OLD_FOLDER_UID}"
  NEW_FOLDER_NAME="${BASE_FOLDER_PATH}/${NEW_FOLDER_UID}"

  echo "Running with:"
  echo "  Commit SHA: ${COMMIT_SHA}"
  echo "  Old Folder: ${OLD_FOLDER_NAME}"
  echo "  New Folder: ${NEW_FOLDER_NAME}"
  echo "---"

  # Execute the python script
  python3 github_importer.py \
    --repo_url="${REPO_URL}" \
    --commit_sha="${COMMIT_SHA}" \
    --old_folder_name="${OLD_FOLDER_NAME}" \
    --new_folder_name="${NEW_FOLDER_NAME}"

  sleep 1
done