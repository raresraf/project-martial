#!/bin/bash

# Define the repository URL
REPO_URL="https://github.com/elastic/elasticsearch"

# Define the base path for your folders
BASE_FOLDER_PATH="/Users/raf/code/project-martial/dataset/CoSiM/raw"


COMMIT_SHAS=(
  "a001b78c21adac42d534952488ce8f7aa8cab921"
  "476a7d858c99ee482c0e2d66e376feac1808b14e"
  "4ba097bff5bbbb5b12715662f318021dd72be8a7"
  "ac99eb35b3308dab6616da9a2e421165b6293d86"
  "5cb6d071b36a595a845dfa8a7a95e18266bec3de"
  "3de0062e406daa33e64e0a011bc9d023db0daeb5"
  "8d24ada3609dcf24b5b607f8a5b3681a5f9e5e81"
  "cf276d2c1274622e9140109ce5f193b1c1fbcfcc"
  "7b1f1dad9582744d2f51ebae49dd9da2260db64a"
  "95066c7d5b09aba67e0697bc0bddef4486fbc44f"
  "2fe3f60336ef8d11121ac26ab04fd57733e23b8f"
  "5cdb8b0b565a6811f61991a7ac8988d6f7c2e1b0"
  "290e82ac0a80e91d6a5cd906bb80f07bc18c8dd3"
  "36ad41b5e3c03e73d1134e23d28661ad71560363"
  "f980822acd3a632a5b633d2920a021857cd8a502"
  "992ff51741098e54974f63ce4387133133f8c34b"
  "c241e4de436c77c6f6b639bff75341605b4f1a60"
  "7231ccbb6fdd415d1bc5aeb04fb3681aa5d740cd"
  "ee4350d886c5d2fb8fbe2218c20178f682ae9d48"
  "9aff023e6fc0e06c2485015cfb9652b5e92d734e"
  "563c9f025843b41991b1156eb0008fe48301a596"
  "81bac07e86847e5f5328d2e100f464c8af1793a2"
  "c070031dba94aabec04d2234ad4772927dea399a"
  "dae118f2a6f62ce9886265d36cdc81a77838893d"
  "6f3b98f89b63c44dd572423e240aef353e2898d0"
  "f34b269b0b8280e0bb126b35cfb99132b7ea0f0e"
  "72e1a84de8f2bfa381b555b20957435caa12a99d"
  "719ee9698f9d5d4cc0e50daf9e4c4dd58c82d429"
  "77ae117fb7d19b51ded6d8cadb0b1ebdaf44a8b3"
  "35e89cec26672285348f93dcdf3b4585a9bbf5f2"
  "7694446192bd003b717d1d80092616e0db8b96a8"
  "0f9d2bd07671184c3043369bf3f19f8d83cd1b47"
  "d5c5857ea5dce0fc28ddf6ff62763376a8957fcb"
  "f8657748c15485f1c2673d5092661a2e8eb42750"
  "e7dec67278ba149e1aa41772ed579e490cc035ac"
  "0d9e76b8a84ea118bbd683698a7c8a5e3a3a250a"
  "d2c22a67bf1fad24ec45fce52025630aedac0c3c"
  "ce8364bcb527abf0055cc18d266e0a19b00de141"
  "d8dbaab9768781c82c79d1268392e0bbf80df05a"
  "4519d6135bb0fe80493b54bf618838fd57e0c8e6"
  "ee69e3eec871a4f1d4840e3a942db9b50b3e6bfc"
  "35ed8ea4024a38693ce29d6768482e66aeb12f2a"
  "a3da244e0acc94d704eef79d6ad28c59d3be9584"
  "6634289ae887551878da95c8072b2173dcc7db10"
  "3470281eae57e263a5ca01b20894e49eedac09d4"
  "f0f4b486f1d1c501463979be82505bab60080ad0"
  "b14cf478c1fa153db326a98d8bd1aba5258484cd"
  "e41eeef67963b688c1eae4511f0c9ac554f00fa5"
  "6a3fce81536b313a155371fa9e2963583f5bc4f5"
  "3e62ec640c5c771e9b3d5f9d31160816cd478927"
  "94049e72a76c2a0e9da8f4ad692c38eadb434ebe"
  "4a8e6761deba8820b1f0b780801a46380a0954b5"
  "21ce09c11e5a4d7cd59b260cbe3d159a3e4a6bd8"
  "c18fa2c61a1875f6007306ef139588d34bfdcd64"
  "ba8a0398234db0e311ff0d32fc9a7d0003369e59"
  "d24862709d5090435213b94c1a0f52695281e3d3"
  "657d6821fcf85a41c7f684e838533280676b7c1d"
  "002922e49f2a95e1218acb8d0896982452f4da79"
  "77f36679a63b53bf960632ffa9e95d73d157b9ae"
  "18e962d3b84b8ca72a28048c748fd2dd52c12e57"
  "7f077c38e1b98dd63aabeb77d5f27561c934c510"
  "56ea49837a7b43a930eca08ce7c499ba39a5254a"
  "1de9f8b54f4ec94dcfbaf125b5ad0682539b374f"
  "12dc0282e23b88437f2331f092b821fd6876142c"
  "dcbf2cb3a0b0eb1bab7c32c4d358257e765bb304"
  "0af16115e22e39da2824d69c80a8cd992d7499a6"
  "28c00b294a96ff42a13f8ee7cf61199635f514e0"
  "cd7a468a6cdbff29ba124b5d72c14472ba44514e"
  "ac0982a9d2d4948cbf631ba1563d6ae84043cec1"
  "b2d304e82fe065175b4b272d2b9102312f238775"
  "b6f5e34c151c26f8e52d7658cd246efe40079429"
  "0b9000ec86d31b4ff9b6218448c82c225412aaf4"
  "ecf14469b54ef8f72f8f37fe9bea22c19822acfe"
  "91f8ccfeec72ea38183fe0392ca3f46125a2b3bd"
  "ff81e369afbdef55caa41d2e46547230bb672e60"
  "74b3df60eed7ef9bd8e35cfc8c3714e00dae93a3"
  "d50bc764a28f46cdc043fc5c267696cdd7684855"
  "24c52e81bb0dff7a054a686ab950a3c2f46534fb"
  "f184fc7bb961696524c6149e15ff2f208289c0b7"
  "5cc7402282e99f967c0f2a384a1adfb6377be713"
  "49eb4aaabe6cc24de03bb59f8897fecf1c2aaa82"
  "431c8eaece295ec705adc00f32200f71b8f6c1bc"
  "1bfd312855d5c728c8829050c83a9e11b0dea08b"
  "29ad38a97d4254f57f71fed165a7b64bff89491d"
  "73bc8fdaa24a4cfd5b2880a7909cbb319dd93c8a"
  "7473692629d5aa277b0e0ba2ac8acb3e58172fbd"
  "a93c140c4fb7bf2b7afbc7314bac21f330cc3072"
  "e711269ca7fa4eb6b6fa9b108e5f4441bba93a69"
  "848dc7ad1e7225d1f06f8b433aa17d0e2fbea8c4"
  "59862c67a80dc753a1eb2a544ac11961e1af6835"
  "c05655f0554f0d1ce6981c5d7b0c70a35691e1da"
  "acc864fb21c46fde8173f9c9d91bca3b51a93657"
  "29f7afe1ec01720af0119f419e556ac4ea265fe0"
  "279d368632bb3858c9760591914e6ab9bff065fc"
  "5dd906e85e3e6fab864d98b07bfee50d5b2cf47b"
  "d02864e2e5538b6e4e704136ef0867fe5f7a61b0"
  "7f8d66344cf222c811e0174309ac371a29fba6dd"
  "9b3037c2bc6355bb5eef8de28e92c01ea9f2d645"
  "f07fa43bedf2e12ef71579616e046bfdb36473b2"
  "9f4197cbff8aba4f52004c8f441d60e512625964"
)

# UIDs - ensure this list has at least twice the number of entries as COMMIT_SHAS
# (one for old_folder_name and one for new_folder_name per iteration)
UIDS=(
"30f305cf-5f2f-4a32-98b9-acdcaf4408aa"
"fdf59ea3-88f8-455d-b4b0-577a0d031ba6"
"d55234b2-42b1-4904-a9d1-ef70314c2cd2"
"b5a5cacd-c1a4-4c97-9a9c-9a0dc159dbb8"
"f4a0b9f2-8ff5-4221-8fb9-03bcb6005171"
"c15cc198-fbe8-4eb9-a0e4-f1b791459996"
"135001da-8bc0-4a59-86a3-1257ac95aec7"
"db8cb1d6-5cc0-46c0-b999-53dff629a92e"
"395c73fd-d9c3-42ef-9c79-5ebd404fa01c"
"614e3d0d-ac05-4658-b159-dd1355f5fda6"
"2db6c093-4fb2-459a-a2ca-2192b0b1f0be"
"d7b0f532-7c1a-44e0-9430-34ddd2f6cb07"
"e8ec3515-b87f-44e7-a3fd-6550c36830b3"
"c7cdd691-b982-4610-8c05-c96cb09a9397"
"b4ce4a89-1bc9-4fa5-8332-6226fe362bd3"
"342e33b1-ec2a-4f9f-a268-f0a4baae6beb"
"f54e0af9-c53f-48a2-b254-ff945c9538a5"
"0dbe2447-8701-40b3-ac86-2ca471be2f9b"
"2c086733-0f6f-4bd9-b009-9364c08ffc88"
"20d1949b-a5c2-4520-b265-63e194c78427"
"9622b0cb-ede4-44e2-8b0e-831e0a51db4c"
"194f3a02-8423-4467-a55e-1d592c12d0d9"
"9d90c277-b17f-4837-904f-e032120b1058"
"68dc74b0-1516-4efa-911b-daec15993a71"
"4c0a683b-6c4a-4577-a843-71be8cb3e2c9"
"1a9515ee-3e20-409a-8268-1e13006d33a0"
"3f249659-f8b1-44c2-b304-66b6eeb859f6"
"86ac8206-ea27-41b4-835c-4c2dc126daf2"
"0e4dfb9e-66b7-46a3-ab07-0037c7cfb16a"
"50e56e42-d192-464b-99e1-536535b2f71b"
"b085e6eb-f43c-407f-a710-460665e1000d"
"2c3cfe1a-638c-4968-8bc3-66bccfee60a8"
"8c5426f3-a589-4d25-a2d9-adf8bf775d51"
"8ff3e1b3-0fbf-48c8-ac98-dd71bf18246b"
"ffeb1bf9-1af8-4e74-8a5e-78a72539bfb7"
"4037b9a7-2be4-40e9-aaeb-c003f5087e43"
"5f38b403-cd7a-4989-97e7-ddf375f7f99d"
"a5337d9a-a40e-406c-bfb1-8356cc27a58a"
"6b530b12-5ca7-4adb-9b16-9cbf13f8a3a1"
"ad822c07-09ea-4ef9-a872-77015ffc0d39"
"d56c0225-b6e3-473b-8d2b-dea6014415c7"
"5bbd1c94-82d9-4875-9466-9c6d6f0ec028"
"bf5f5f9a-171c-440d-899d-0d277ddb9f65"
"a10fcbc7-30e8-4ed4-98dd-ea56572e5198"
"f147568d-d0d7-43fb-99dd-2a8bb2facb33"
"a2e9daac-6dca-4477-afdf-6741cd73216a"
"10c008e4-80a0-4f34-8716-1db3275aba66"
"fd416f0f-c167-4032-b7bb-67a2ab0085e3"
"e4b768d4-39a9-45da-b521-c5eecc7cd66a"
"800af3e4-8219-4f2b-9d7a-0b6f4e999a60"
"a8105900-0e3b-4b8c-85b7-d103723bff5d"
"0071b95b-99b3-4afd-9e5e-1e9fd20e5252"
"6d164007-1790-493d-9111-91166350cac2"
"f95a36f3-da22-4d63-9dc5-a55d3eec8e5d"
"150988ae-0932-4ae1-b9bd-b575894fa03b"
"54ef7de9-b1d4-4b50-833e-e64f8628e5cb"
"ea77d6eb-4975-4b9d-9fd0-df8aea23b41d"
"fba14c58-ed13-4196-a519-134b5cc49e99"
"198a80ef-2096-41d7-a3a6-69f6ad69610c"
"e6339d66-d4cb-4ef4-93e5-b654af747b1f"
"db78b4a5-ccdb-4dc3-8913-d618b00c3c6f"
"3417f116-4d5f-439d-9d3b-da00e0a02d44"
"64bc0838-3efa-417b-81fa-adb6cf66249e"
"a4485793-2b2a-4a60-be84-8a106c5adde7"
"936b38f5-6e55-4e50-812e-946be35cf972"
"17233f44-b7f3-4cb8-bee3-69f6a7a638a6"
"62d7a62e-e2b0-415b-9cb7-79241f6694b1"
"b14169b8-3ee4-40b2-b3e0-96f2f20689fb"
"dce2687c-7ece-4873-86db-7cd5067547d9"
"ab61e27a-8bdb-430e-a0e9-5965f966000e"
"807c6a87-89a6-4af7-87cd-45d6f98c0cb6"
"e76ed1cb-f94e-400b-8557-6b2874f3199d"
"1e503c83-36d6-4d09-b73d-381c24ec619c"
"19f768d9-9026-42e5-9d2b-233e8134c8a2"
"ad140ded-80c4-4d29-bdb6-f90ea8fbeed6"
"9020c670-79a4-462c-bc71-13e0071c8621"
"90f5a7bf-20a6-4f75-af93-df1e959fb194"
"99eb041c-0dd0-4fdc-965a-d90b1324bd67"
"b44a9238-e349-4873-a42a-a77f5d5c0b18"
"6b048a1e-736b-49c5-af8b-bfe85fde6b5a"
"01f3df42-7249-43a0-be5c-1eef67c74cdc"
"fbbac503-62f7-4e14-b070-053cd3dfa13b"
"3166eb8e-1f28-466a-8e45-3fac8c00cc34"
"1bc382f7-0e3f-44a0-908e-70beb71d9759"
"c686d852-1f2d-47fc-964b-fe6e4fd0a312"
"fb6b7320-f458-4e6f-9a7f-dad40d62ad7b"
"e676d043-9ed8-45e3-b6f2-e6cdeb512218"
"1b5222d7-8f78-4de5-a724-e7234536be50"
"4e5c4edd-4bcc-41a2-b192-14744cfca716"
"52c03993-bf57-4ba5-aab9-d45186dedaab"
"69812d82-7503-4663-83ec-8b3f0301edb3"
"656b9db2-3fc9-46d9-bc8e-c8f6978e1890"
"6c10e5d2-7bf1-4266-9b2a-0c0446454348"
"383e8c5c-44b6-4abb-a994-f259f34ef065"
"b6e0d012-3714-460a-9206-5d0c1d929b07"
"f2419e62-6472-49d8-954b-3e43492e3c1d"
"82c6a420-f608-4c37-a15a-d1adf2087f33"
"ab3c3c20-e3c0-4dcd-97c1-dda4589589b7"
"a8295ee4-916c-43b4-b9b6-8be0ce0b4c17"
"dc31b7fa-1342-44dc-8db2-0ca18b7da38f"
"1d77c621-91d6-4c0a-b077-f6ea40c11477"
"e47747a1-4c8e-474d-a6b0-123c46638098"
"31a602a1-a8a2-4e1b-8c6b-ba63299d1680"
"07a31af5-3fa1-42c8-9ea9-9969c3e3c649"
"d5396203-4aef-40ad-977e-3f0d08606956"
"898c438f-f1e7-46e4-bb38-b399509ec701"
"a101d0e9-aeea-4384-b0a1-cebcb2c695e8"
"d25d5072-7546-4119-b236-466d0c6de5dc"
"79f177a5-ac4f-43dc-bec8-c71a3145fd80"
"2eb265e5-45db-4f61-9c72-c1f6b9cd0039"
"56c2e7d2-08e4-425b-887d-427c18ca777e"
"a49b7fde-f278-4831-98e4-304a2a5625f7"
"4cf4f291-1364-4a60-8b0d-d2f943fc0497"
"ec72988d-7b0d-4bd4-b9cb-7a5b0b5be6e6"
"b691bd0a-01e0-4769-9f97-a73bda4e48d2"
"613c31cb-701e-4056-b274-f6c2d8384037"
"89ab50c3-8d16-4e87-b31f-c9df77054a76"
"1f6a91d6-1585-4c73-b518-5d568e26e60a"
"fe997107-62d1-407f-9c63-15f25f051bd4"
"2eb4be53-8ff5-4e78-b186-9f871ac8624f"
"da3eb23c-bf88-497c-a21d-a98b15cac613"
"3ed83d92-dc42-4dc9-b67b-fef82133da7a"
"a13b9100-c671-4693-9c03-52ba3c4fde85"
"65d4a837-6bef-49f3-adae-d5470ca0833f"
"7ee4684d-c21c-4539-882a-819de7dc513b"
"e46569ba-4e7f-4a65-ac26-a84bcdcf81f8"
"d60d49ef-a4ba-49fe-a9ca-d49bef499977"
"da1410ad-8260-45e5-b1dd-f003db63ffdb"
"70adc879-bf7b-427b-89ae-eb337de7fff6"
"391d40c8-9021-4519-941e-3c1e7d277aa6"
"6059915d-9385-4e01-a21a-197cee485c7c"
"26de9d12-cdb9-4daa-a5cf-44c19f123be0"
"1cb07a71-7e2c-4d3e-8962-e5e63245aef0"
"9ef32976-1db5-4e06-8bf9-c8d3aea914de"
"d6db0534-eb04-4bed-a2d9-7e2fb8728930"
"a7f697ea-97f5-4c9e-99b9-daf4320b5d24"
"75b3f79e-962b-4839-a846-86683eacf4cc"
"9b14b77e-623d-4cf7-ac3e-e51a22c010a5"
"43a7a3b3-e79d-47bc-a903-ea0696f6ec14"
"9576cac1-d559-4a3a-8409-d7bca3161499"
"50791fa0-e49b-443b-977f-34c7d0fac272"
"1be22063-92ee-454b-8068-aa710c1b056b"
"2c2a74ff-85f0-4dca-9ccc-8d10848e766f"
"c4518c2d-fe54-42f1-9742-0f89f018e4e9"
"24766677-245b-4305-9004-a8c11be08749"
"5669c622-d4f2-4278-8651-c32a5957121c"
"5d9fba65-b847-4034-8ade-57091359b998"
"d9240e3e-267d-4082-83ae-68ca1df2dad3"
"eb8287a2-479f-4ce7-a087-cc15e615a0a4"
"19be5700-5c55-449f-9424-7dd88466bfa5"
"f46548bd-e77c-402c-8c4a-a62042eeb506"
"37b6b7a1-f8d1-41b2-8338-955f8d8d749c"
"88a80b66-f6ee-496f-ad14-2f85779222d5"
"8b6d7f96-71c4-4a07-8b69-1c7fa3832596"
"0926288d-ec60-4904-982b-f518a28898c7"
"4ab88809-51d3-41e5-a6a6-8ba64c7b2ac7"
"fd53eb03-c9d7-44ff-a6ae-106504194841"
"615d42bc-1164-4ac5-a8ee-3d406b670272"
"c5041973-3060-49b1-8eae-e7a370fe996a"
"09e75d9f-5f28-47ab-8d46-fc07688401db"
"e9aabd1e-b660-408c-87f6-e2dc3d6944a0"
"0e076f1a-f6f0-4578-8986-08aa6444ee36"
"abcd6ccd-4213-47db-a18c-6e89f8647288"
"d3768fb4-16fb-4685-b261-074a62b490aa"
"0b5986bd-44d5-41a4-901e-14372c909cea"
"dbb13eaf-4044-402a-b8a7-694409183d02"
"8fe6a290-95ed-4a4d-8aad-c9638d2e0789"
"6b6d4370-6289-492f-8e61-732146b6e06d"
"bbbfd6c6-281f-43ff-bcf9-3154862c6dd0"
"92abd68d-154a-459d-bb2d-188b7a57d164"
"f4e48968-cda5-4dbd-9dc8-a9a88baec8a3"
"7f7450fc-927e-42f7-99a6-275be863512a"
"10d01bf5-a1ca-4dde-b4b5-929bda733d0f"
"8483547d-77bd-4e12-9468-e038cd3ca210"
"7f6fea5d-6720-4e74-af0f-3f858857099b"
"da162ac5-39ad-42b8-bb91-ec7e898b6a57"
"7f52131f-afb4-48ae-9541-2cda730b72a1"
"11038781-4770-4847-9db7-09ed9f315dfa"
"780783b4-560e-469a-8037-15ea837f1e05"
"e0e23c71-cd09-4e7e-af85-911c1e73c469"
"c79b5aa7-a4b3-4ae6-91b8-0db2d96a2ec8"
"92d7e68b-7cad-4ec4-8b8f-d689072871b7"
"72a11892-3d03-488c-ada1-ed577d72e051"
"d2284313-8504-4ba5-a918-34a7ed3cb403"
"2f0abe5d-e0b5-4577-9bcf-d7bf5c52ad04"
"0b93a309-36fc-4c19-971f-36266eab1ead"
"42bb178a-dcc6-4550-b476-91d5bbe99d9d"
"8ea3f151-d0b3-4979-a7ce-d17bcf24f7da"
"adc834c3-e929-4352-bf1c-ae92259f4ff6"
"9d7224d1-c841-4a0f-be70-188d9f003e65"
"5ca53ed2-709e-4ef7-9b2d-65e1682f1574"
"2b289b2f-b02c-4e97-bb92-97c0c945811c"
"4df43de6-94e6-412c-9d2f-1e80b1da1267"
"c9b3cad5-40ca-4391-8eaf-f4781f4cfc85"
"c2355e85-0f99-433f-8fb0-68b26160f710"
"04c41ddc-3639-495d-8840-4145f652b07d"
"a1a809f2-2483-4533-92e2-0428b535c9ea"
"7c3ac5b3-403e-4d3c-a6a6-ac2961011769"
"0173a33d-98b3-4b63-a32a-0e8b75758140"
"f6e2b35c-9006-4d34-8c06-8f8bf16f2942"
)

# Check if there are enough UIDs for the operations
if [ ${#UIDS[@]} -lt $(( ${#COMMIT_SHAS[@]} * 2 )) ]; then
  echo "Error: Not enough UIDs provided for all commit SHAs."
  echo "You need at least $(( ${#COMMIT_SHAS[@]} * 2 )) UIDs, but only ${#UIDS[@]} were provided."
  exit 1
fi

# Loop through each commit SHA
for i in "${!COMMIT_SHAS[@]}"; do
  COMMIT_SHA="${COMMIT_SHAS[$i]}"
  
  # Calculate the indices for UIDs
  OLD_UID_INDEX=$(( i * 2 ))
  NEW_UID_INDEX=$(( i * 2 + 1 ))

  # Get the UIDs for the current iteration
  OLD_FOLDER_UID="${UIDS[$OLD_UID_INDEX]}"
  NEW_FOLDER_UID="${UIDS[$NEW_UID_INDEX]}"

  # Construct the full folder paths
  OLD_FOLDER_NAME="${BASE_FOLDER_PATH}/${OLD_FOLDER_UID}"
  NEW_FOLDER_NAME="${BASE_FOLDER_PATH}/${NEW_FOLDER_UID}"

  echo "Running with:"
  echo "  Commit SHA: ${COMMIT_SHA}"
  echo "  Old Folder: ${OLD_FOLDER_NAME}"
  echo "  New Folder: ${NEW_FOLDER_NAME}"
  echo "---"

  # Execute the python script
  python3 github_importer.py \
    --repo_url="${REPO_URL}" \
    --commit_sha="${COMMIT_SHA}" \
    --old_folder_name="${OLD_FOLDER_NAME}" \
    --new_folder_name="${NEW_FOLDER_NAME}"

  sleep 1
done